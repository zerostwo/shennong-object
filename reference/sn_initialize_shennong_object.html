<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Create a Shennong Object — sn_initialize_shennong_object • ShennongObject</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Create a Shennong Object — sn_initialize_shennong_object"><meta name="description" content="Initializes a Shennong object from a primary counts matrix and optional
sample metadata."><meta property="og:description" content="Initializes a Shennong object from a primary counts matrix and optional
sample metadata."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">ShennongObject</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/index.html">Articles</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/zerostwo/shennong-object/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Create a Shennong Object</h1>
      <small class="dont-index">Source: <a href="https://github.com/zerostwo/shennong-object/blob/main/R/constructor.R" class="external-link"><code>R/constructor.R</code></a></small>
      <div class="d-none name"><code>sn_initialize_shennong_object.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Initializes a Shennong object from a primary counts matrix and optional
sample metadata.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">sn_initialize_shennong_object</span><span class="op">(</span></span>
<span>  counts <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  assay <span class="op">=</span> <span class="st">"RNA"</span>,</span>
<span>  metadata <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  project <span class="op">=</span> <span class="st">"Shennong"</span>,</span>
<span>  organism <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></span><span class="op">(</span><span class="fl">0</span><span class="op">)</span>,</span>
<span>  min_counts <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  min_features <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-counts">counts<a class="anchor" aria-label="anchor" href="#arg-counts"></a></dt>
<dd><p>A matrix-like object (e.g., matrix, dgCMatrix) containing the
raw counts. Rows typically represent features (genes) and columns represent
samples. Column names are required and will be used as primary sample
identifiers. If NULL, an empty Shennong object is created.</p></dd>


<dt id="arg-assay">assay<a class="anchor" aria-label="anchor" href="#arg-assay"></a></dt>
<dd><p>Character string. The name to assign to the primary assay
created from the <code>counts</code> matrix (default: "RNA").</p></dd>


<dt id="arg-metadata">metadata<a class="anchor" aria-label="anchor" href="#arg-metadata"></a></dt>
<dd><p>Optional data frame or DataFrame containing sample-level
metadata. Row names must match the column names of the <code>counts</code>
matrix.</p></dd>


<dt id="arg-project">project<a class="anchor" aria-label="anchor" href="#arg-project"></a></dt>
<dd><p>Character string. Name for the project (default: "Shennong").</p></dd>


<dt id="arg-organism">organism<a class="anchor" aria-label="anchor" href="#arg-organism"></a></dt>
<dd><p>Optional character string specifying the organism.</p></dd>


<dt id="arg-min-counts">min_counts<a class="anchor" aria-label="anchor" href="#arg-min-counts"></a></dt>
<dd><p>Minimum number of counts required for a sample to be
included. Samples with total counts below this threshold will be filtered
out. Default is 0 (no filtering).</p></dd>


<dt id="arg-min-features">min_features<a class="anchor" aria-label="anchor" href="#arg-min-features"></a></dt>
<dd><p>Minimum number of detected features (genes with count &gt;
0) required for a sample to be included. Default is 0 (no filtering).</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Additional arguments passed to the internal <code>new("Shennong",
...)</code> call.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A <code>Shennong</code> object.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Create a dummy counts matrix</span></span></span>
<span class="r-in"><span><span class="va">counts_matrix</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Poisson.html" class="external-link">rpois</a></span><span class="op">(</span><span class="fl">1000</span>, lambda <span class="op">=</span> <span class="fl">10</span><span class="op">)</span>, nrow <span class="op">=</span> <span class="fl">100</span>, ncol <span class="op">=</span> <span class="fl">10</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">rownames</a></span><span class="op">(</span><span class="va">counts_matrix</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"Gene"</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">100</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">counts_matrix</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"Sample"</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Create dummy metadata</span></span></span>
<span class="r-in"><span><span class="va">sample_metadata</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  condition <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Control"</span>, <span class="st">"Treated"</span><span class="op">)</span>, <span class="fl">10</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  batch <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"A"</span>, <span class="st">"B"</span><span class="op">)</span>, <span class="fl">10</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  row.names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">counts_matrix</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Create a Shennong object</span></span></span>
<span class="r-in"><span><span class="va">sn_obj</span> <span class="op">&lt;-</span> <span class="fu">sn_initialize_shennong_object</span><span class="op">(</span></span></span>
<span class="r-in"><span>  counts <span class="op">=</span> <span class="va">counts_matrix</span>,</span></span>
<span class="r-in"><span>  metadata <span class="op">=</span> <span class="va">sample_metadata</span>,</span></span>
<span class="r-in"><span>  project <span class="op">=</span> <span class="st">"TestProject"</span>,</span></span>
<span class="r-in"><span>  organism <span class="op">=</span> <span class="st">"Mus musculus"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">sn_obj</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> A Shennong object:  TestProject </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Organism: Mus musculus </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> A Shennong object of 1 listed</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  experiment with a user-defined name and respective class.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Containing an ExperimentList class object of length 1:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] RNA: SummarizedExperiment with 100 rows and 10 columns</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Functionality:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  experiments() - obtain the ExperimentList instance</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  colData() - the primary/phenotype DataFrame</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  sampleMap() - the sample coordination DataFrame</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  `$`, `[`, `[[` - extract colData columns, subset, or experiment</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  *Format() - convert into a long or wide DataFrame</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  assays() - convert ExperimentList to a SimpleList of matrices</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  exportClass() - save data to flat files</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> --- Shennong Specific Slots ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Active Assay: RNA </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Active Ident: 1 levels (first few: TestProject ) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0 dimensional reduction(s) present: None </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Misc data: None </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Command history stored: No </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Tools data stored: None </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Object created with ShennongObject version: 0.1.0 </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Create object without metadata</span></span></span>
<span class="r-in"><span><span class="va">sn_obj_no_meta</span> <span class="op">&lt;-</span> <span class="fu">sn_initialize_shennong_object</span><span class="op">(</span>counts <span class="op">=</span> <span class="va">counts_matrix</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">sn_obj_no_meta</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> A Shennong object:  Shennong </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Organism: NA </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> A Shennong object of 1 listed</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  experiment with a user-defined name and respective class.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Containing an ExperimentList class object of length 1:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] RNA: SummarizedExperiment with 100 rows and 10 columns</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Functionality:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  experiments() - obtain the ExperimentList instance</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  colData() - the primary/phenotype DataFrame</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  sampleMap() - the sample coordination DataFrame</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  `$`, `[`, `[[` - extract colData columns, subset, or experiment</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  *Format() - convert into a long or wide DataFrame</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  assays() - convert ExperimentList to a SimpleList of matrices</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  exportClass() - save data to flat files</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> --- Shennong Specific Slots ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Active Assay: RNA </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Active Ident: 1 levels (first few: Shennong ) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0 dimensional reduction(s) present: None </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Misc data: None </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Command history stored: No </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Tools data stored: None </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Object created with ShennongObject version: 0.1.0 </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Apply basic filtering during creation</span></span></span>
<span class="r-in"><span><span class="va">counts_matrix</span><span class="op">[</span>, <span class="fl">1</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">0</span> <span class="co"># Make first sample have 0 counts</span></span></span>
<span class="r-in"><span><span class="va">sn_obj_filtered</span> <span class="op">&lt;-</span> <span class="fu">sn_initialize_shennong_object</span><span class="op">(</span></span></span>
<span class="r-in"><span>  counts <span class="op">=</span> <span class="va">counts_matrix</span>,</span></span>
<span class="r-in"><span>  metadata <span class="op">=</span> <span class="va">sample_metadata</span>,</span></span>
<span class="r-in"><span>  min_counts <span class="op">=</span> <span class="fl">10</span>, <span class="co"># Filter sample 1</span></span></span>
<span class="r-in"><span>  min_features <span class="op">=</span> <span class="fl">5</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Filtered out 1 samples based on min_counts/min_features: Sample1</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Metadata provided for samples not present in (filtered) counts: Sample1. Removing extra metadata.</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">sn_obj_filtered</span><span class="op">)</span> <span class="co"># Should have 9 samples</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> A Shennong object:  Shennong </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Organism: NA </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> A Shennong object of 1 listed</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  experiment with a user-defined name and respective class.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Containing an ExperimentList class object of length 1:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] RNA: SummarizedExperiment with 100 rows and 9 columns</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Functionality:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  experiments() - obtain the ExperimentList instance</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  colData() - the primary/phenotype DataFrame</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  sampleMap() - the sample coordination DataFrame</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  `$`, `[`, `[[` - extract colData columns, subset, or experiment</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  *Format() - convert into a long or wide DataFrame</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  assays() - convert ExperimentList to a SimpleList of matrices</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  exportClass() - save data to flat files</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> --- Shennong Specific Slots ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Active Assay: RNA </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Active Ident: 1 levels (first few: Shennong ) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0 dimensional reduction(s) present: None </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Misc data: None </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Command history stored: No </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Tools data stored: None </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Object created with ShennongObject version: 0.1.0 </span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Songqi Duan.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.2.</p>
</div>

    </footer></div>





  </body></html>

